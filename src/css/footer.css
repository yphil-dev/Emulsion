footer {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  height: var(--footer-height);
  padding: 0.5em;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background-color: var(--color-bg-header);
  color: var(--color-text-header);
  border-top: 1px solid var(--color-border-header);
  font-size: var(--footer-font, 18px);
  font-weight: bold;
  z-index: 3;
  opacity: 0; /* stays transparent initially */
  transition:
    height 0.4s ease,
    font-size 0.3s ease,
    padding 0.3s ease,
    opacity 5s ease;
}

#controls {
  display: flex;
  flex-direction: row;
  align-items: center;
  margin-left: 0.5em;
  gap: 1em;
}

#notifications {
  height: 100%;

  display: flex;
  align-items: center;

  aspect-ratio: 1; /* This makes it square */
  transition: opacity 0.5s ease-in-out;
}

.control-item {
  display: flex;
  align-items: center;
  gap: var(--footer-gap, 10px);
  transition: transform 0.4s ease, gap 0.3s ease;
}

.control-item .icon {
  width: var(--icon-size, 60px);
  height: var(--icon-size, 60px);
  transition: all 0.4s ease;
}

.pie-progress {
  --progress: 0;        /* progress: 0–100 */
  --spinner-ring-color: #00ffae;    /* ring color */
  --track: #333;       /* background ring */
  --text: #fff;        /* text color */

  position: relative;
  width: 100%;
  max-width: var(--icon-size, 60px);
  aspect-ratio: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text);
  font-weight: 500;

  /* smooth show-up animation */
  opacity: 0;
  transform: scale(0.9);
  transition: opacity 0.8s ease, transform 0.4s ease;
}

.pie-progress.error {
  --spinner-ring-color: #FF0000;
}

.pie-progress.success {
  --spinner-ring-color: #00ffae;
}

.pie-progress circle.progress-track {
  fill: none;
  stroke: var(--track);
  stroke-width: 8;
  stroke-linecap: round;
  transform: rotate(-90deg); /* Match the fill circle rotation */
  transform-origin: 50% 50%;
}

.pie-progress circle.progress-fill {
  fill: none;
  stroke: var(--spinner-ring-color);
  stroke-width: 8;
  stroke-linecap: round;
  stroke-dasharray: 283; /* 2 * π * 45 (radius) */
  stroke-dashoffset: 283;
  transform-origin: 50% 50%;
  transform: rotate(-90deg); /* Start from 12 o'clock instead of 3 o'clock */
  transition: stroke-dashoffset 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
}

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

/* initial footer control state */
#controls #shoulders {
  display: none;
}

#controls #west {
  display: none;
}

/* --- Responsive scaling modifiers --- */
footer.footer-small {
  /* --footer-height: 44px; */
  --footer-font: 14px;
  --footer-gap: 5px;
}

footer.footer-medium {
  /* --footer-height: 70px; */
  --footer-font: 18px;
  --footer-gap: 7px;
}

footer.footer-big {
  /* --footer-height: 100px; */
  --footer-font: 20px;
  --footer-gap: 10px;
}

.control-icon {
  height: calc(var(--footer-height) - 14px);
  width: calc(var(--footer-height) - 14px);
  transition: all 0.4s ease;
}

.control-icon-big {
  height: 100px;
  width: 100px;
}

footer .control-section {
  opacity: 1;
  transition: opacity 1s ease;
}


#footer-progress-bars {
    position: absolute;
    top: 0;
    left: 0;
    width: 100vw;
    height: 2px;
    pointer-events: none; /* avoid blocking clicks */
}

.footer-progress-bar {
    position: absolute;
    top: 0;
    left: 0;
    height: 2px;
    width: 0%;
    opacity: 0.8;
    transition: width 0.3s ease;
}

/* Different colors for each bar */
#progress-bar-1 {
    background-color: var(--color-selected, #00f);
}

#progress-bar-2 {
    background-color: var(--color-outline-control-button, #f00);
}
